var maybeAppendChild=function(e){return function(t){return e.appendChild(t)}},appendTextNode=function(e,t,n){return"function"==typeof e?void maybeAppendChild(t)(document.createTextNode(e(n))):void maybeAppendChild(t)(document.createTextNode(e))},jsmlWalker=function(e){return function t(n,r){var a,c=function(n){n.count||(n.count=1);for(var c=0;c<n.count;c++)a=e(n,c,r),r&&maybeAppendChild(r)(a),n.children&&t(n.children)(a)};if(Array.isArray(n.constructor))for(var o=0;o<n.length;o++)c(n[o]);else c(n)}},createDomElementFromJsml=function(e,t,n){t||(t=0);var r=document.createElement(e.tag);for(var a in e)if(e.hasOwnProperty(a))switch(a){case"tag":case"count":case"children":break;case"variable":this[e.variable]=r;break;case"text":appendTextNode(e.text,r,t);break;case"callback":e.callback(r,n,t);break;default:void 0!==r[a]&&(r[a]="function"==typeof e[a]?e[a](t):e[a])}return r};module.exports=jsmlWalker(createDomElementFromJsml);